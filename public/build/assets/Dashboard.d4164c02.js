import{d as oe,o as c,c as v,a as e,b as F,r as m,e as C,w as d,f as a,u as l,g as O,h as S,t as k,i as M,F as P,j as W,p as G,k as J,l as X,m as te,n as ne,q as Z,s as A,v as q,x as ee,y as V,z as x}from"./app.87077317.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";/* empty css            */const L=oe("main",{state:()=>({leistungen:[],noten:[],sidebarCollapsed:!0,progress:0,bemerkungen:{leistung:null,floskelgruppe:null}}),actions:{openBemerkungMenu(r,u){this.bemerkungen={leistung:r,floskelgruppe:u}},updateLeistungBemerkung(r,u,s){this.leistungen.find(_=>_.id===r.id).schueler.bemerkungen[u]=s.trim().length?s:null},toggleSidebar(r){this.sidebarCollapsed=r},startProgress(){this.progress=Math.floor(Math.random()*(90-50+1))+50},finishProgress(){this.progress=100,setTimeout(()=>this.progress=0,500)}}}),ae={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=e("path",{fill:"currentColor",d:"M4 18h2v2h12V4H6v2H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3zm2-7h7v2H6v3l-5-4l5-4v3z"},null,-1),ie=[re];function ue(r,u){return c(),v("svg",ae,ie)}var de={name:"ri-logout-box-line",render:ue};const ce={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_e=e("path",{fill:"currentColor",d:"M3.34 17a10.018 10.018 0 0 1-.978-2.326a3 3 0 0 0 .002-5.347A9.99 9.99 0 0 1 4.865 4.99a3 3 0 0 0 4.631-2.674a9.99 9.99 0 0 1 5.007.002a3 3 0 0 0 4.632 2.672A9.99 9.99 0 0 1 20.66 7c.433.749.757 1.53.978 2.326a3 3 0 0 0-.002 5.347a9.99 9.99 0 0 1-2.501 4.337a3 3 0 0 0-4.631 2.674a9.99 9.99 0 0 1-5.007-.002a3 3 0 0 0-4.632-2.672A10.018 10.018 0 0 1 3.34 17zm5.66.196a4.993 4.993 0 0 1 2.25 2.77c.499.047 1 .048 1.499.001A4.993 4.993 0 0 1 15 17.197a4.993 4.993 0 0 1 3.525-.565c.29-.408.54-.843.748-1.298A4.993 4.993 0 0 1 18 12c0-1.26.47-2.437 1.273-3.334a8.126 8.126 0 0 0-.75-1.298A4.993 4.993 0 0 1 15 6.804a4.993 4.993 0 0 1-2.25-2.77c-.499-.047-1-.048-1.499-.001A4.993 4.993 0 0 1 9 6.803a4.993 4.993 0 0 1-3.525.565a7.99 7.99 0 0 0-.748 1.298A4.993 4.993 0 0 1 6 12a4.99 4.99 0 0 1-1.273 3.334a8.126 8.126 0 0 0 .75 1.298A4.993 4.993 0 0 1 9 17.196zM12 15a3 3 0 1 1 0-6a3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2a1 1 0 0 0 0 2z"},null,-1),he=[_e];function pe(r,u){return c(),v("svg",ce,he)}var ve={name:"ri-settings3-line",render:pe};const me={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ge=e("path",{fill:"currentColor",d:"M19 22H5a3 3 0 0 1-3-3V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v7h4v9a3 3 0 0 1-3 3zm-1-10v7a1 1 0 0 0 2 0v-7h-2zM5 6v6h6V6H5zm0 7v2h10v-2H5zm0 3v2h10v-2H5zm2-8h2v2H7V8z"},null,-1),fe=[ge];function ke(r,u){return c(),v("svg",me,fe)}var be={name:"ri-newspaper-fill",render:ke};const we={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$e=e("path",{fill:"currentColor",d:"M6.5 11.5a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9zm.5 10a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9zm10-10a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9zm0 10a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9zM6.5 9.5a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5zm.5 10a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5zm10-10a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5zm0 10a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z"},null,-1),ze=[$e];function Ve(r,u){return c(),v("svg",we,ze)}var xe={name:"ri-apps2-line",render:Ve};const Se={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=e("path",{fill:"currentColor",d:"M21 19h2v2H1v-2h2V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v15h4v-8h-2V9h3a1 1 0 0 1 1 1v9zM5 5v14h8V5H5zm2 6h4v2H7v-2zm0-4h4v2H7V7z"},null,-1),He=[Me];function Ue(r,u){return c(),v("svg",Se,He)}var Ce={name:"ri-building-line",render:Ue};const Ie={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Be=e("path",{fill:"currentColor",d:"M12 11a5 5 0 0 1 5 5v6h-2v-6a3 3 0 0 0-2.824-2.995L12 13a3 3 0 0 0-2.995 2.824L9 16v6H7v-6a5 5 0 0 1 5-5zm-6.5 3c.279 0 .55.033.81.094a5.947 5.947 0 0 0-.301 1.575L6 16v.086a1.492 1.492 0 0 0-.356-.08L5.5 16a1.5 1.5 0 0 0-1.493 1.356L4 17.5V22H2v-4.5A3.5 3.5 0 0 1 5.5 14zm13 0a3.5 3.5 0 0 1 3.5 3.5V22h-2v-4.5a1.5 1.5 0 0 0-1.356-1.493L18.5 16c-.175 0-.343.03-.5.085V16c0-.666-.108-1.306-.309-1.904A3.42 3.42 0 0 1 18.5 14zm-13-6a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm13 0a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm-13 2a.5.5 0 1 0 0 1a.5.5 0 0 0 0-1zm13 0a.5.5 0 1 0 0 1a.5.5 0 0 0 0-1zM12 2a4 4 0 1 1 0 8a4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4a2 2 0 0 0 0-4z"},null,-1),Ae=[Be];function ye(r,u){return c(),v("svg",Ie,Ae)}var Fe={name:"ri-team-line",render:ye};const Le=S("SVWS-NRW"),Te=S("Einstellungen"),Ne=F({__name:"Menubar",props:{auth:Object},setup(r){const u=L(),s=()=>W.Inertia.post(route("logout")),_=[{caption:"Sch\xFCler",value:"schueler"},{caption:"Schule",value:"schule"},{caption:"Kataloge",value:"kataloge"},{caption:"Notenmanager",value:"notenmanager"}];return(t,H)=>{const I=m("SvwsUiSidebarMenuHeader"),z=Fe,y=Ce,h=xe,p=be,w=m("SvwsUiIcon"),f=m("SvwsUiSidebarMenuItem"),o=ve,i=de,g=m("SvwsUiSidebarMenu");return c(),C(g,{collapsed:l(u).sidebarCollapsed,onToggle:l(u).toggleSidebar},{header:d(()=>[a(I,{collapsed:l(u).sidebarCollapsed},{default:d(()=>[Le]),_:1},8,["collapsed"])]),default:d(()=>[(c(),v(P,null,O(_,b=>a(f,{key:b.caption,collapsed:l(u).sidebarCollapsed},{label:d(()=>[S(k(b.caption),1)]),icon:d(()=>[a(w,null,{default:d(()=>[b.value==="schueler"?(c(),C(z,{key:0,"aria-hidden":"true"})):M("",!0),b.value==="schule"?(c(),C(y,{key:1,"aria-hidden":"true"})):M("",!0),b.value==="kataloge"?(c(),C(h,{key:2,"aria-hidden":"true"})):M("",!0),b.value==="notenmanager"?(c(),C(p,{key:3,"aria-hidden":"true"})):M("",!0)]),_:2},1024)]),_:2},1032,["collapsed"])),64))]),footer:d(()=>[a(f,{collapsed:l(u).sidebarCollapsed},{label:d(()=>[Te]),icon:d(()=>[a(w,null,{default:d(()=>[a(o,{"aria-hidden":"true"})]),_:1})]),_:1},8,["collapsed"]),a(f,{collapsed:l(u).sidebarCollapsed,subline:"Abmelden",onClick:s},{label:d(()=>[S(k(r.auth.user.vorname)+" "+k(r.auth.user.nachname),1)]),icon:d(()=>[a(w,null,{default:d(()=>[a(i,{"aria-hidden":"true"})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["collapsed","onToggle"])}}});var je=N(Ne,[["__scopeId","data-v-49d17422"]]);const Re={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ee=e("path",{fill:"currentColor",d:"M22 13h-2V7h-8.414l-2-2H4v14h9v2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2H21a1 1 0 0 1 1 1v7zm-4 4v-3.5l5 4.5l-5 4.5V19h-3v-2h3z"},null,-1),Ye=[Ee];function Ke(r,u){return c(),v("svg",Re,Ye)}var De={name:"ri-folder-shared-line",render:Ke};const Oe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pe=e("path",{fill:"currentColor",d:"M6 19H3a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v4h3a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-3v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm0-2v-1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1h2V9H4v8h2zM8 4v3h8V4H8zm0 13v3h8v-3H8zm-3-7h3v2H5v-2z"},null,-1),We=[Pe];function qe(r,u){return c(),v("svg",Oe,We)}var Ge={name:"ri-printer-line",render:qe};const j=r=>(G("data-v-6044ef14"),r=r(),J(),r),Je=j(()=>e("span",null,"Ist ausgef\xFCllt",-1)),Ze=j(()=>e("svg",{viewBox:"0 0 24 24"},[e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h14V5H5zm6.003 11L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z"})],-1)),Qe=j(()=>e("span",null,"Ist nicht ausgef\xFCllt",-1)),Xe=j(()=>e("svg",{viewBox:"0 0 24 24"},[e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h14V5H5z"})],-1)),et=F({__name:"BemerkungenIndicator",props:["leistung","floskelgruppe"],setup(r){const u=r,s=L(),_=()=>s.openBemerkungMenu(u.leistung,u.floskelgruppe),t=()=>u.leistung.schueler.bemerkungen[u.floskelgruppe];return(H,I)=>{const z=m("SvwsUiIcon");return c(),v("button",{onClick:_},[t()?(c(),C(z,{key:0},{default:d(()=>[Je,Ze]),_:1})):(c(),C(z,{key:1},{default:d(()=>[Qe,Xe]),_:1}))])}}});var D=N(et,[["__scopeId","data-v-6044ef14"]]);const $=r=>(G("data-v-5e684c81"),r=r(),J(),r),tt={class:"wrapper"},nt={id:"top-menu"},st={class:"filters"},lt=$(()=>e("h1",{class:"svws-ui-headline-2"},"Notenmanager",-1)),ot=S("Teilleistungen"),at=S("Klassenleitung"),rt={class:"functions"},it=$(()=>e("span",null,"Drucken",-1)),ut=$(()=>e("span",null,"Teilen",-1)),dt={id:"filter-menu"},ct=$(()=>e("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})],-1)),_t=S(" Erweiterte Filter "),ht={key:0,id:"table"},pt=["onClick"],vt={class:"title"},mt={key:0,class:"sortable"},gt=$(()=>e("span",null,"Sortieren",-1)),ft=$(()=>e("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M13 16.172l5.364-5.364 1.414 1.414L12 20l-7.778-7.778 1.414-1.414L11 16.172V4h2v12.172z"})],-1)),kt=$(()=>e("span",null,"Aufsteigend",-1)),bt=$(()=>e("svg",{viewBox:"0 0 24 24"},[e("path",{fill:"none",d:"M0 0H24V24H0z"}),e("path",{d:"M19 3l4 5h-3v12h-2V8h-3l4-5zm-5 15v2H3v-2h11zm0-7v2H3v-2h11zm-2-7v2H3V4h9z"})],-1)),wt=$(()=>e("span",null,"Absteigend",-1)),$t=$(()=>e("svg",{viewBox:"0 0 24 24"},[e("path",{fill:"none",d:"M0 0H24V24H0z"}),e("path",{d:"M20 4v12h3l-4 5-4-5h3V4h2zm-8 14v2H3v-2h9zm2-7v2H3v-2h11zm0-7v2H3V4h11z"})],-1)),zt={class:"checkbox"},Vt={class:"checkbox"},xt={class:"checkbox"},St={class:"checkbox"},Mt=F({__name:"TableInput",setup(r){const u=L();let s=X(!0),_=X(!0),t=te({teilleistungen:!0,klassenleitung:!0,filterValues:{jahrgaenge:[],klassen:[],kurse:[],noten:[]},sorting:{column:"",asc:!0},cols:[{id:"id",title:"Id",sortable:!0,visible:!0},{id:"klasse.kuerzel",title:"Klasse",sortable:!0,visible:!0},{id:"schueler.name",title:"Name",sortable:!0,visible:!0},{id:"fach",title:"Fach",sortable:!0,visible:!0},{id:"lehrer",title:"Lehrer",visible:!0},{id:"kurs.kuerzel",title:"Kurs",sortable:!0,visible:!0},{id:"note.kuerzel",title:"Note",sortable:!0,visible:!0},{id:"mahnung",title:"M",sortable:!0,visible:!0},{id:"fs",title:"FS",visible:_},{id:"ufs",title:"uFS",visible:_},{id:"asv",title:"ASV",visible:_},{id:"aue",title:"AuE",visible:_},{id:"zb",title:"ZB",visible:_}],filters:{search:"",klasse:0,jahrgang:0,kurs:0,note:0}});ne(t.sorting,()=>I());const H=o=>{o.sortable&&(t.sorting.asc=o.id===t.sorting.column?!t.sorting.asc:!0,t.sorting.column=o.id)},I=()=>{t.sorting.column!=""&&u.leistungen.sort((o,i)=>{const g=E=>t.sorting.column.split(".").reduce((T,B)=>T&&T[B],E);let b=g(o),U=g(i);return b===null?1:U===null?-1:(t.sorting.asc||([b,U]=[U,b]),b.toString().localeCompare(U.toString(),"de-DE"))})};Z(()=>{A.get(route("get_filters")).then(o=>t.filterValues=o.data),A.get(route("get_leistungen")).then(o=>u.leistungen=o.data)});const z=q(()=>u.leistungen.filter(o=>y(o)&&h(o.klasse)&&p(o.kurs)&&w(o.schueler)&&f(o.note))),y=o=>{if(t.filters.search==="")return!0;const i=g=>g.toLowerCase().includes(t.filters.search.toLowerCase());return i(o.schueler.vorname)||i(o.schueler.nachname)},h=o=>t.filters.klasse==0?!0:(o==null?void 0:o.id)==t.filters.klasse,p=o=>t.filters.kurs==0?!0:(o==null?void 0:o.id)==t.filters.kurs,w=o=>t.filters.jahrgang==0?!0:o.jahrgang_id==t.filters.jahrgang,f=o=>t.filters.note==0?!0:t.filters.note==1?o==null:(o==null?void 0:o.id)==t.filters.note;return(o,i)=>{const g=m("SvwsUiCheckbox"),b=Ge,U=m("SvwsUiIcon"),E=De,T=m("SvwsUiTextInput"),B=m("SvwsUiSelectInput"),se=m("SvwsUiButton"),Y=m("svws-ui-icon");return c(),v("div",null,[e("div",tt,[e("div",nt,[e("div",st,[lt,a(g,{modelValue:l(s),"onUpdate:modelValue":i[0]||(i[0]=n=>ee(s)?s.value=n:s=n)},{default:d(()=>[ot]),_:1},8,["modelValue"]),a(g,{modelValue:l(_),"onUpdate:modelValue":i[1]||(i[1]=n=>ee(_)?_.value=n:_=n)},{default:d(()=>[at]),_:1},8,["modelValue"])]),e("div",rt,[a(U,null,{default:d(()=>[it,a(b,{"aria-hidden":"true"})]),_:1}),a(U,null,{default:d(()=>[ut,a(E,{"aria-hidden":"true"})]),_:1})])]),e("div",dt,[a(T,{type:"search",modelValue:l(t).search,"onUpdate:modelValue":i[2]||(i[2]=n=>l(t).search=n),placeholder:"Suche"},null,8,["modelValue"]),a(B,{placeholder:"Klasse",modelValue:l(t).klasse,"onUpdate:modelValue":i[3]||(i[3]=n=>l(t).klasse=n),"onUpdate:value":i[4]||(i[4]=n=>l(t).filters.klasse=n),options:l(t).filterValues.klassen},null,8,["modelValue","options"]),a(B,{placeholder:"Jahrgang",modelValue:l(t).jahrgang,"onUpdate:modelValue":i[5]||(i[5]=n=>l(t).jahrgang=n),"onUpdate:value":i[6]||(i[6]=n=>l(t).filters.jahrgang=n),options:l(t).filterValues.jahrgaenge},null,8,["modelValue","options"]),a(B,{placeholder:"Kurs",modelValue:l(t).kurs,"onUpdate:modelValue":i[7]||(i[7]=n=>l(t).kurs=n),"onUpdate:value":i[8]||(i[8]=n=>l(t).filters.kurs=n),options:l(t).filterValues.kurse},null,8,["modelValue","options"]),a(B,{placeholder:"Note",modelValue:l(t).note,"onUpdate:modelValue":i[9]||(i[9]=n=>l(t).note=n),"onUpdate:value":i[10]||(i[10]=n=>l(t).filters.note=n),options:l(t).filterValues.noten},null,8,["modelValue","options"]),a(se,{type:"secondary"},{default:d(()=>[ct,_t]),_:1})]),l(z).length>0?(c(),v("div",ht,[e("table",null,[e("thead",null,[e("tr",null,[(c(!0),v(P,null,O(l(t).cols,n=>V((c(),v("th",{key:n.id,onClick:K=>H(n)},[e("div",null,[e("span",vt,k(n.title),1),n.sortable?(c(),v("div",mt,[V(a(Y,null,{default:d(()=>[gt,ft]),_:2},1536),[[x,n.sortable&&n.id!==l(t).sorting.column]]),V(a(Y,null,{default:d(()=>[kt,bt]),_:2},1536),[[x,n.sortable&&l(t).sorting.asc&&n.id===l(t).sorting.column]]),V(a(Y,null,{default:d(()=>[wt,$t]),_:2},1536),[[x,n.sortable&&!l(t).sorting.asc&&n.id===l(t).sorting.column]])])):M("",!0)])],8,pt)),[[x,n.visible]])),128))])]),e("tbody",null,[(c(!0),v(P,null,O(l(z),n=>{var K,Q;return c(),v("tr",{key:n.id},[e("td",null,k(n.id),1),e("td",null,k((K=n.klasse)==null?void 0:K.kuerzel),1),e("td",null,k(n.schueler.name),1),e("td",null,k(n.fach),1),e("td",null,k(n.lehrer),1),e("td",null,k((Q=n.kurs)==null?void 0:Q.kuerzel),1),e("td",zt,[a(g,{modelValue:n.mahnung,"onUpdate:modelValue":le=>n.mahnung=le},null,8,["modelValue","onUpdate:modelValue"])]),V(e("td",null,k(n.fs),513),[[x,l(_)]]),V(e("td",null,k(n.ufs),513),[[x,l(_)]]),V(e("td",Vt,[a(D,{leistung:n,floskelgruppe:"asv"},null,8,["leistung"])],512),[[x,l(_)]]),V(e("td",xt,[a(D,{leistung:n,floskelgruppe:"aue"},null,8,["leistung"])],512),[[x,l(_)]]),V(e("td",St,[a(D,{leistung:n,floskelgruppe:"zb"},null,8,["leistung"])],512),[[x,l(_)]])])}),128))])])])):M("",!0)])])}}});var Ht=N(Mt,[["__scopeId","data-v-5e684c81"]]);const R=r=>(G("data-v-774d0e6a"),r=r(),J(),r),Ut={key:0},Ct={class:"header"},It=R(()=>e("span",null,"Schlie\xDFen",-1)),Bt=R(()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"})],-1)),At={class:"svws-ui-headline-1"},yt={class:"body"},Ft=S("Speichern"),Lt={key:0,class:"floskeln"},Tt=R(()=>e("h2",{class:"svws-ui-headline-4"},"Floskeln",-1)),Nt=R(()=>e("hr",null,null,-1)),jt={class:"table-wrapper"},Rt=F({__name:"FloskelnMenu",setup(r){const u=L(),s=te({modalVisible:!1,leistung:{},floskelgruppe:null,bemerkung:null,bemerkungFormatted:null,floskelgruppen:[],columns:[{id:"kuerzel",title:"K\xFCrzel",sortable:!0},{id:"text",title:"Text",sortable:!0}]});Z(()=>A.get(route("get_floskeln")).then(h=>s.floskelgruppen=h.data)),ne(()=>u.bemerkungen,h=>{s.leistung=h.leistung,s.floskelgruppe=h.floskelgruppe,A.get(route("get_bemerkungen",[s.leistung.schueler.id,s.floskelgruppe])).then(p=>{s.bemerkung=p.data,s.modalVisible=!0})});const _=()=>s.modalVisible=!1,t=q(()=>s.floskelgruppen.find(h=>h.kuerzel==s.floskelgruppe)),H=q(()=>{const h=/\$VORNAME\$ \$NACHNAME\$|\$VORNAME\$|\$Vorname\$|\$NACHNAME\$/;let p=s.leistung.schueler,w={m:"Er",w:"Sie"},f=w[p.geschlecht]!==void 0?w[p.geschlecht]:null,o={"$vorname$ $nachname$":[p.vorname,p.nachname].join(" "),$vorname$:p.vorname,$nachname$:p.nachname},i={"$vorname$ $nachname$":f!=null?f:p.vorname,$vorname$:f!=null?f:p.vorname,$nachname$:null};return s.bemerkung.replace(new RegExp(h,"i"),g=>o[g.toLowerCase()]).replaceAll(new RegExp(h,"gi"),g=>i[g.toLowerCase()])}),I=()=>{let h=route("set_bemerkungen",s.leistung.schueler.id),p={key:s.floskelgruppe,value:s.bemerkung};A.post(h,p).then(()=>u.updateLeistungBemerkung(s.leistung,s.floskelgruppe,s.bemerkung))},z=h=>s.bemerkung=h,y=h=>{let p=s.bemerkung.trim();s.bemerkung=p+(p.length==0?"":" ")+h.text};return(h,p)=>{const w=m("SvwsUiIcon"),f=m("SvwsUiBadge"),o=m("SvwsUiTextareaInput"),i=m("SvwsUiButton"),g=m("SvwsUiTable");return s.modalVisible?(c(),v("aside",Ut,[e("div",Ct,[e("div",null,[e("button",{type:"button",onClick:_,class:"svws-ui-bg-dark"},[a(w,null,{default:d(()=>[It,Bt]),_:1})])]),e("h1",At,k(s.leistung.schueler.name),1),a(f,{variant:"highlight",size:"big",class:"px-6"},{default:d(()=>[S(k(s.leistung.kurs?s.leistung.kurs.kuerzel:s.leistung.klasse.kuerzelAnzeige),1)]),_:1})]),e("div",yt,[a(o,{value:l(H),placeholder:"Tragen Sie bitte hier Ihre Bemerkungen ein.","onUpdate:value":z},null,8,["value"]),a(i,{onClick:I},{default:d(()=>[Ft]),_:1}),l(t)?(c(),v("div",Lt,[Tt,Nt,e("div",jt,[a(g,{cols:s.columns,rows:l(t).floskeln,"onUpdate:selected":y},null,8,["cols","rows"])])])):M("",!0)])])):M("",!0)}}});var Et=N(Rt,[["__scopeId","data-v-774d0e6a"]]);const Yt={class:"w-full"},Pt=F({__name:"Dashboard",props:{auth:Object},setup(r){const u=r,s=L();return Z(()=>A.get(route("get_noten")).then(_=>s.noten=_.data)),W.Inertia.on("start",()=>s.startProgress()),W.Inertia.on("finish",()=>s.finishProgress()),route("dashboard"),(_,t)=>{const H=m("SvwsUiAppLayout");return c(),v("div",null,[a(H,{collapsed:l(s).sidebarCollapsed},{sidebar:d(()=>[a(je,{auth:l(u).auth},null,8,["auth"])]),main:d(()=>[e("div",Yt,[a(Ht)])]),contentSidebar:d(()=>[a(Et)]),_:1},8,["collapsed"])])}}});export{Pt as default};
